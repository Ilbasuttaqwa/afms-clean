exports.id=1557,exports.ids=[1557],exports.modules={3599:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var a=t(997);t(6689);var n=t(2999),s=t(9794),i=t(6225);let l=({className:e=""})=>{let{theme:r,toggleTheme:t}=(0,i.F)();return a.jsx("button",{onClick:t,className:`
        relative inline-flex h-10 w-10 items-center justify-center
        rounded-lg border border-gray-200 bg-white text-gray-500
        hover:bg-gray-50 hover:text-gray-700 focus:outline-none focus:ring-2
        focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200
        dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400
        dark:hover:bg-gray-700 dark:hover:text-gray-200
        ${e}
      `,title:"light"===r?"Switch to dark mode":"Switch to light mode",children:"light"===r?a.jsx(n.Z,{className:"h-5 w-5"}):a.jsx(s.Z,{className:"h-5 w-5"})})}},6250:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{Z:()=>D});var n=t(997),s=t(6689),i=t(9314),l=t(1163),o=t(4201),d=t(8379),c=t(9547),m=t(4934),x=t(5489),h=t(1419),g=t(3192),f=t(4671),u=t(2046),v=t(2037),b=t(986),p=t(681),y=t(2290),j=t(1140),w=t(4449),k=t(9128),N=t(8617),Z=t(9005),C=t(6048),S=t(7624),z=t(8245),A=t(9767),M=t(3599),F=t(9227),P=e([A]);A=(P.then?(await P)():P)[0];let T=e=>[..."admin"===e?[{name:"Dashboard",href:"/admin/dashboard",icon:o.Z}]:[],..."manager"===e?[{name:"Dashboard",href:"/manager/dashboard",icon:o.Z}]:[],..."user"===e?[{name:"Dashboard",href:"/dasbor",icon:o.Z}]:[],{name:"Monitoring",href:"/admin/pemantauan",icon:d.Z,roles:["admin"]},{name:"Device Management",href:"/admin/devices",icon:c.Z,roles:["admin"]},{name:"Device Config",href:"/admin/device-config",icon:m.Z,roles:["admin"]},{name:"Device Monitor",href:"/admin/device-monitor",icon:x.Z,roles:["admin"]},{name:"Device Monitoring",href:"/admin/pemantauan-perangkat",icon:d.Z,roles:["admin"]},{name:"Device Analytics",href:"/admin/device-analytics",icon:h.Z,roles:["admin"]},{name:"Fingerprint Backup",href:"/admin/fingerprint-backup",icon:g.Z,roles:["admin"]},{name:"Cloud Config",href:"/admin/cloud-config",icon:f.Z,roles:["admin"]},{name:"Cabang",href:"/admin/cabang",icon:u.Z,roles:["admin"]},{name:"Jabatan",href:"/admin/jabatan",icon:v.Z,roles:["admin"]},{name:"Aturan Payroll",href:"/admin/payroll-rules",icon:b.Z,roles:["admin"]},{name:"Pengaturan",href:"/admin/settings",icon:m.Z,roles:["admin"]},{name:"Pengguna",href:"/users",icon:p.Z,roles:["admin","manager"]},{name:"Karyawan",href:"/admin/karyawan",icon:y.Z,roles:["admin","manager"]},{name:"Absensi",href:"/admin/absensi",icon:j.Z,roles:["admin","manager"]},{name:"Bon Karyawan",href:"/admin/bon",icon:w.Z,roles:["admin","manager"]},{name:"Payroll",href:"/admin/payroll",icon:k.Z,roles:["admin","manager"]},{name:"Kehadiran",href:"/attendance",icon:N.Z,roles:["admin","manager","user"]}].filter(r=>!r.roles||r.roles.includes(e)),D=({children:e})=>{let[r,t]=(0,s.useState)(!1),{user:a,logout:o}=(0,i.a)(),d=(0,l.useRouter)(),c=T(a?.role||"user");return(0,n.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-violet-50/30 to-indigo-50/50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900",children:[(0,n.jsxs)("div",{className:`fixed inset-0 z-40 lg:hidden ${r?"":"hidden"}`,children:[n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>t(!1)}),(0,n.jsxs)("div",{className:"relative flex w-full max-w-xs flex-1 flex-col glass",children:[n.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:n.jsx("button",{type:"button",className:"ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>t(!1),children:n.jsx(Z.Z,{className:"h-6 w-6 text-white"})})}),(0,n.jsxs)("div",{className:"h-0 flex-1 overflow-y-auto pt-5 pb-4",children:[(0,n.jsxs)("div",{className:"flex flex-shrink-0 items-center px-4",children:[n.jsx("div",{className:"h-8 w-8 bg-gradient-to-br from-violet-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"AFMS"})}),n.jsx("span",{className:"ml-2 text-xl font-bold bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent",children:"AFMS"})]}),n.jsx("nav",{className:"mt-5 space-y-1 px-2",children:c.map(e=>{let r=d.pathname===e.href;return(0,n.jsxs)("button",{onClick:()=>{d.push(e.href),t(!1)},className:`
                      group flex items-center px-3 py-3 text-base font-medium rounded-xl w-full text-left transition-all duration-300
                      ${r?"bg-gradient-to-r from-violet-500 to-indigo-500 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gradient-to-r hover:from-violet-50 hover:to-indigo-50 hover:text-violet-700 hover:shadow-md hover:scale-105"}
                    `,children:[n.jsx(e.icon,{className:`
                        mr-4 h-6 w-6 flex-shrink-0 transition-all duration-300
                        ${r?"text-white":"text-gray-400 group-hover:text-violet-600"}
                      `}),e.name]},e.name)})})]}),n.jsx("div",{className:"flex flex-shrink-0 border-t border-gray-200 p-4",children:(0,n.jsxs)("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-10 w-10 bg-gray-300 rounded-full flex items-center justify-center",children:n.jsx(p.Z,{className:"h-6 w-6 text-gray-600"})}),(0,n.jsxs)("div",{className:"ml-3",children:[n.jsx("p",{className:"text-base font-medium text-gray-700",children:a?.nama_pegawai}),n.jsx("p",{className:"text-sm font-medium text-gray-500",children:a?.role})]})]})})]})]}),n.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:(0,n.jsxs)("div",{className:"flex min-h-0 flex-1 flex-col border-r border-violet-200/30 glass dark:border-violet-700/30",children:[(0,n.jsxs)("div",{className:"flex flex-1 flex-col overflow-y-auto pt-5 pb-4",children:[(0,n.jsxs)("div",{className:"flex flex-shrink-0 items-center px-4",children:[n.jsx("div",{className:"h-8 w-8 bg-gradient-to-br from-violet-600 to-indigo-600 rounded-xl flex items-center justify-center shadow-lg",children:n.jsx("span",{className:"text-white font-bold text-sm",children:"AFMS"})}),n.jsx("span",{className:"ml-2 text-xl font-bold bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent",children:"AFMS"})]}),n.jsx("nav",{className:"mt-5 flex-1 space-y-1 px-2",children:c.map(e=>{let r=d.pathname===e.href;return(0,n.jsxs)("button",{onClick:()=>d.push(e.href),className:`
                      group flex items-center px-3 py-3 text-sm font-medium rounded-xl w-full text-left transition-all duration-300
                      ${r?"bg-gradient-to-r from-violet-500 to-indigo-500 text-white shadow-lg transform scale-105":"text-gray-600 hover:bg-gradient-to-r hover:from-violet-50 hover:to-indigo-50 hover:text-violet-700 hover:shadow-md hover:scale-105 dark:text-gray-300 dark:hover:from-violet-900/30 dark:hover:to-indigo-900/30 dark:hover:text-violet-300"}
                    `,children:[n.jsx(e.icon,{className:`
                        mr-3 h-6 w-6 flex-shrink-0 transition-all duration-300
                        ${r?"text-white":"text-gray-400 group-hover:text-violet-600 dark:text-gray-400 dark:group-hover:text-violet-400"}
                      `}),e.name]},e.name)})})]}),n.jsx("div",{className:"flex flex-shrink-0 border-t border-gray-200 dark:border-gray-700 p-4",children:(0,n.jsxs)("div",{className:"flex w-full items-center",children:[n.jsx("div",{className:"h-9 w-9 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center",children:n.jsx(p.Z,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})}),(0,n.jsxs)("div",{className:"ml-3 flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:a?.nama_pegawai}),n.jsx(F.Z,{size:"sm",className:"mt-1"})]}),n.jsx(A.z,{variant:"ghost",size:"sm",onClick:()=>{o()},className:"ml-2",children:n.jsx(C.Z,{className:"h-4 w-4"})})]})})]})}),(0,n.jsxs)("div",{className:"lg:pl-64",children:[n.jsx("div",{className:"sticky top-0 z-10 bg-white pl-1 pt-1 sm:pl-3 sm:pt-3 lg:hidden",children:n.jsx("button",{type:"button",className:"-ml-0.5 -mt-0.5 inline-flex h-12 w-12 items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500",onClick:()=>t(!0),children:n.jsx(S.Z,{className:"h-6 w-6"})})}),n.jsx("div",{className:"hidden lg:block glass shadow-lg border-b border-violet-200/30 dark:border-violet-700/30 backdrop-blur-xl",children:n.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex h-16 items-center justify-between",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:c.find(e=>e.href===d.pathname)?.name||"Dashboard"})}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[n.jsx(M.Z,{}),n.jsx("button",{className:"text-gray-400 hover:text-gray-500 dark:text-gray-300 dark:hover:text-gray-200",children:n.jsx(z.Z,{className:"h-6 w-6"})}),(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"h-8 w-8 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center",children:n.jsx(p.Z,{className:"h-5 w-5 text-gray-600 dark:text-gray-300"})}),(0,n.jsxs)("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:a?.nama_pegawai}),n.jsx(F.Z,{size:"sm"})]})]})]})]})})}),n.jsx("main",{className:"flex-1",children:n.jsx("div",{className:"py-6",children:n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:e})})})]})]})};a()}catch(e){a(e)}})},9767:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.d(r,{z:()=>c});var n=t(997),s=t(6689),i=t(6926),l=t(9832),o=e([i]);i=(o.then?(await o)():o)[0];let d=(0,i.cva)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary-600 text-white hover:bg-primary-700",destructive:"bg-danger-600 text-white hover:bg-danger-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-50 text-gray-700",secondary:"bg-secondary-600 text-white hover:bg-secondary-700",ghost:"hover:bg-gray-100 text-gray-700",link:"underline-offset-4 hover:underline text-primary-600",success:"bg-success-600 text-white hover:bg-success-700",warning:"bg-warning-600 text-white hover:bg-warning-700"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=(0,s.forwardRef)(({className:e,variant:r,size:t,loading:a,leftIcon:s,rightIcon:i,children:o,disabled:c,...m},x)=>(0,n.jsxs)("button",{className:(0,l.cn)(d({variant:r,size:t,className:e})),ref:x,disabled:c||a,...m,children:[a&&(0,n.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!a&&s&&n.jsx("span",{className:"mr-2",children:s}),o,!a&&i&&n.jsx("span",{className:"ml-2",children:i})]}));c.displayName="Button",a()}catch(e){a(e)}})},9227:(e,r,t)=>{"use strict";t.d(r,{Z:()=>o});var a=t(997);t(6689);var n=t(9314),s=t(8246),i=t(1980),l=t(4163);let o=({size:e="md",showIcon:r=!0,showText:t=!0,className:o=""})=>{let{user:d}=(0,n.a)();if(!d)return null;let c=(e=>{switch(e){case"admin":return{label:"Administrator",color:"bg-red-100 text-red-800 border-red-200",icon:s.Z,darkColor:"dark:bg-red-900 dark:text-red-200 dark:border-red-800"};case"manager":return{label:"Manager",color:"bg-blue-100 text-blue-800 border-blue-200",icon:i.Z,darkColor:"dark:bg-blue-900 dark:text-blue-200 dark:border-blue-800"};case"user":return{label:"Karyawan",color:"bg-green-100 text-green-800 border-green-200",icon:l.Z,darkColor:"dark:bg-green-900 dark:text-green-200 dark:border-green-800"};default:return{label:"User",color:"bg-gray-100 text-gray-800 border-gray-200",icon:l.Z,darkColor:"dark:bg-gray-900 dark:text-gray-200 dark:border-gray-800"}}})(d.role),m=(e=>{switch(e){case"sm":return{container:"px-2 py-1 text-xs",icon:"h-3 w-3"};case"lg":return{container:"px-4 py-2 text-base",icon:"h-5 w-5"};default:return{container:"px-3 py-1.5 text-sm",icon:"h-4 w-4"}}})(e),x=c.icon;return(0,a.jsxs)("span",{className:`
        inline-flex items-center gap-1.5 rounded-full border font-medium
        ${c.color} ${c.darkColor}
        ${m.container}
        ${o}
      `,children:[r&&a.jsx(x,{className:m.icon}),t&&c.label]})}},9314:(e,r,t)=>{"use strict";t.d(r,{H:()=>i,a:()=>l});var a=t(997),n=t(6689);let s=(0,n.createContext)(void 0),i=({children:e})=>{let[r,t]=(0,n.useState)(null),[i,l]=(0,n.useState)(!1),o=async(e,r)=>{try{let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:r})});if(a.ok){let e=await a.json();t(e.user),l(!0)}}catch(e){}};return a.jsx(s.Provider,{value:{user:r,isAuthenticated:i,login:o,logout:()=>{t(null),l(!1)}},children:e})},l=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6225:(e,r,t)=>{"use strict";t.d(r,{F:()=>l,f:()=>i});var a=t(997),n=t(6689);let s=(0,n.createContext)(void 0),i=({children:e})=>{let[r,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=localStorage.getItem("theme");e&&t("dark"===e)},[]),a.jsx(s.Provider,{value:{isDark:r,toggleTheme:()=>{t(!r)}},children:e})},l=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},9948:(e,r,t)=>{"use strict";t.d(r,{V:()=>i,p:()=>l});var a=t(997),n=t(6689);let s=(0,n.createContext)(void 0),i=({children:e})=>{let[r,t]=(0,n.useState)([]),i=e=>{t(r=>r.filter(r=>r.id!==e))};return a.jsx(s.Provider,{value:{toasts:r,addToast:(e,r)=>{let a=Date.now().toString(),n={id:a,message:e,type:r};t(e=>[...e,n]),setTimeout(()=>i(a),5e3)},removeToast:i},children:e})},l=()=>{let e=(0,n.useContext)(s);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}},6814:(e,r,t)=>{"use strict";t.a(e,async(e,a)=>{try{t.r(r),t.d(r,{default:()=>h});var n=t(997),s=t(9752),i=t(9314),l=t(9948),o=t(6225);t(6764);var d=t(6689),c=t(968),m=t.n(c),x=e([s]);let g=new(s=(x.then?(await x)():x)[0]).QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:3e5}}});function h({Component:e,pageProps:r}){let[t,a]=(0,d.useState)(!1);return t?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(m(),{children:[n.jsx("title",{children:"AFMS - Attendance & Fingerprint Management System"}),n.jsx("meta",{name:"description",content:"Advanced Fingerprint Management System for attendance tracking"}),n.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),n.jsx("link",{rel:"icon",href:"/favicon.ico"}),n.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),n.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),n.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap",rel:"stylesheet"})]}),n.jsx(s.QueryClientProvider,{client:g,children:n.jsx(o.f,{children:n.jsx(l.V,{children:n.jsx(i.H,{children:n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 transition-colors duration-300",children:n.jsx(e,{...r})})})})})})]}):null}a()}catch(e){a(e)}})},7645:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var a=t(997),n=t(6859);function s(){return(0,a.jsxs)(n.Html,{lang:"id",children:[(0,a.jsxs)(n.Head,{children:[a.jsx("meta",{charSet:"utf-8"}),a.jsx("meta",{name:"theme-color",content:"#3b82f6"}),a.jsx("meta",{name:"msapplication-TileColor",content:"#3b82f6"}),a.jsx("meta",{name:"msapplication-config",content:"/browserconfig.xml"}),a.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),a.jsx("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),a.jsx("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),a.jsx("link",{rel:"manifest",href:"/site.webmanifest"}),a.jsx("link",{rel:"mask-icon",href:"/safari-pinned-tab.svg",color:"#3b82f6"})]}),(0,a.jsxs)("body",{className:"antialiased",children:[a.jsx(n.Main,{}),a.jsx(n.NextScript,{})]})]})}},9832:(e,r,t)=>{"use strict";function a(...e){return e.filter(Boolean).join(" ")}t.d(r,{cn:()=>a})},6764:()=>{}};