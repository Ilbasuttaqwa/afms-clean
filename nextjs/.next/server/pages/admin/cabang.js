"use strict";(()=>{var e={};e.id=1288,e.ids=[1288],e.modules={2325:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{config:()=>h,default:()=>u,getServerSideProps:()=>x,getStaticPaths:()=>p,getStaticProps:()=>m,reportWebVitals:()=>g,routeModule:()=>k,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>f,unstable_getStaticProps:()=>b});var s=t(7093),l=t(5244),n=t(1323),i=t(7645),o=t(6814),c=t(8187),d=e([o,c]);[o,c]=d.then?(await d)():d;let u=(0,n.l)(c,"default"),m=(0,n.l)(c,"getStaticProps"),p=(0,n.l)(c,"getStaticPaths"),x=(0,n.l)(c,"getServerSideProps"),h=(0,n.l)(c,"config"),g=(0,n.l)(c,"reportWebVitals"),b=(0,n.l)(c,"unstable_getStaticProps"),f=(0,n.l)(c,"unstable_getStaticPaths"),v=(0,n.l)(c,"unstable_getStaticParams"),j=(0,n.l)(c,"unstable_getServerProps"),y=(0,n.l)(c,"unstable_getServerSideProps"),k=new s.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/admin/cabang",pathname:"/admin/cabang",bundlePath:"",filename:""},components:{App:o.default,Document:i.default},userland:c});r()}catch(e){r(e)}})},3546:(e,a,t)=>{t.d(a,{I:()=>n});var r=t(997),s=t(6689),l=t(9832);let n=(0,s.forwardRef)(({className:e,type:a,label:t,error:s,helperText:n,leftIcon:i,rightIcon:o,id:c,...d},u)=>{let m=c||`input-${Math.random().toString(36).substr(2,9)}`;return(0,r.jsxs)("div",{className:"w-full",children:[t&&r.jsx("label",{htmlFor:m,className:"form-label",children:t}),(0,r.jsxs)("div",{className:"relative",children:[i&&r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-400 text-sm",children:i})}),r.jsx("input",{type:a,id:m,className:(0,l.cn)("form-input-modern",i&&"pl-12",o&&"pr-12",s&&"border-red-400 focus:border-red-500 focus:ring-red-500 shadow-glow-rose","focus:shadow-glow transition-all duration-300",e),ref:u,...d}),o&&r.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:r.jsx("span",{className:"text-gray-400 text-sm",children:o})})]}),s&&r.jsx("p",{className:"form-error",children:s}),n&&!s&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]})});n.displayName="Input"},4230:(e,a,t)=>{t.d(a,{Z:()=>n,u:()=>l});var r=t(997);t(6689);var s=t(9832);let l=({isOpen:e,onClose:a,title:t,children:l,className:n})=>e?r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,r.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[r.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:a}),(0,r.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl sm:max-w-lg",children:[t&&(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:t}),r.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r.jsx("div",{className:(0,s.cn)("",n),children:l})]})]})}):null,n=l},8187:(e,a,t)=>{t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{default:()=>f});var s=t(997),l=t(6689),n=t(1163),i=t(6250),o=t(9314),c=t(9948),d=t(9767),u=t(3546),m=t(4230),p=t(2843),x=t(8438),h=t(5836),g=t(8105),b=e([i,d]);[i,d]=b.then?(await b)():b;let f=()=>{let{user:e}=(0,o.a)(),{addToast:a}=(0,c.p)();(0,n.useRouter)();let[t,r]=(0,l.useState)([]),[b,f]=(0,l.useState)(!0),[v,j]=(0,l.useState)(!1),[y,k]=(0,l.useState)(null),[w,N]=(0,l.useState)({nama:"",alamat:"",telepon:"",kode:"",status:"aktif"});(0,l.useEffect)(()=>{S()},[]);let S=async()=>{try{f(!0),r([])}catch(e){a({type:"error",title:"Gagal memuat data cabang"})}finally{f(!1)}},C=async e=>{e.preventDefault();try{if(y){let e={...y,...w,updated_at:new Date().toISOString()};r(a=>a.map(a=>a.id===y.id?e:a)),a({type:"success",title:"Cabang berhasil diperbarui"})}else{let e={id:Date.now(),...w,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};r(a=>[...a,e]),a({type:"success",title:"Cabang berhasil ditambahkan"})}j(!1),k(null),N({nama:"",alamat:"",telepon:"",kode:"",status:"aktif"})}catch(e){a({type:"error",title:"Gagal menyimpan data cabang"})}},P=e=>{k(e),N({nama:e.nama,alamat:e.alamat,telepon:e.telepon,kode:e.kode,status:e.status}),j(!0)},q=async e=>{if(confirm("Apakah Anda yakin ingin menghapus cabang ini?"))try{r(a=>a.filter(a=>a.id!==e)),a({type:"success",title:"Cabang berhasil dihapus"})}catch(e){a({type:"error",title:"Gagal menghapus cabang"})}};return s.jsx(i.Z,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manajemen Cabang"}),s.jsx("p",{className:"text-gray-600",children:"Kelola data cabang perusahaan"})]}),(0,s.jsxs)(d.z,{onClick:()=>{k(null),N({nama:"",alamat:"",telepon:"",kode:"",status:"aktif"}),j(!0)},className:"flex items-center space-x-2",children:[s.jsx(g.Z,{className:"h-4 w-4"}),s.jsx("span",{children:"Tambah Cabang"})]})]}),s.jsx(p.Z,{data:t,columns:[{key:"kode",title:"Kode",sortable:!0},{key:"nama",title:"Nama Cabang",sortable:!0},{key:"alamat",title:"Alamat",sortable:!1},{key:"telepon",title:"Telepon",sortable:!1},{key:"status",title:"Status",sortable:!0,render:e=>s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"aktif"===e?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:"aktif"===e?"Aktif":"Nonaktif"})},{key:"actions",title:"Aksi",sortable:!1,render:(e,a)=>(0,s.jsxs)("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>P(a),className:"text-blue-600 hover:text-blue-800",title:"Edit",children:s.jsx(x.Z,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>q(a.id),className:"text-red-600 hover:text-red-800",title:"Hapus",children:s.jsx(h.Z,{className:"h-4 w-4"})})]})}],loading:b,searchable:!0,searchPlaceholder:"Cari cabang..."}),s.jsx(m.Z,{isOpen:v,onClose:()=>{j(!1),k(null)},title:y?"Edit Cabang":"Tambah Cabang",children:(0,s.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(u.I,{label:"Kode Cabang",value:w.kode,onChange:e=>N({...w,kode:e.target.value}),required:!0,placeholder:"Contoh: CP001"}),s.jsx(u.I,{label:"Nama Cabang",value:w.nama,onChange:e=>N({...w,nama:e.target.value}),required:!0,placeholder:"Nama cabang"})]}),s.jsx(u.I,{label:"Alamat",value:w.alamat,onChange:e=>N({...w,alamat:e.target.value}),required:!0,placeholder:"Alamat lengkap cabang"}),s.jsx(u.I,{label:"Telepon",value:w.telepon,onChange:e=>N({...w,telepon:e.target.value}),required:!0,placeholder:"Nomor telepon"}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,s.jsxs)("select",{value:w.status,onChange:e=>N({...w,status:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[s.jsx("option",{value:"aktif",children:"Aktif"}),s.jsx("option",{value:"nonaktif",children:"Nonaktif"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(d.z,{type:"button",variant:"secondary",onClick:()=>{j(!1),k(null)},children:"Batal"}),s.jsx(d.z,{type:"submit",children:y?"Perbarui":"Simpan"})]})]})})]})})};r()}catch(e){r(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")},9752:e=>{e.exports=import("@tanstack/react-query")},6926:e=>{e.exports=import("class-variance-authority")},8438:(e,a,t)=>{t.d(a,{Z:()=>s});var r=t(6689);let s=r.forwardRef(function({title:e,titleId:a,...t},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),e?r.createElement("title",{id:a},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))})},8105:(e,a,t)=>{t.d(a,{Z:()=>s});var r=t(6689);let s=r.forwardRef(function({title:e,titleId:a,...t},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),e?r.createElement("title",{id:a},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))})},5836:(e,a,t)=>{t.d(a,{Z:()=>s});var r=t(6689);let s=r.forwardRef(function({title:e,titleId:a,...t},s){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":a},t),e?r.createElement("title",{id:a},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[6859,8342,7890,1557,2843],()=>t(2325));module.exports=r})();