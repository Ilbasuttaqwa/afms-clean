"use strict";(()=>{var e={};e.id=8124,e.ids=[8124],e.modules={4123:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.r(a),t.d(a,{config:()=>p,default:()=>m,getServerSideProps:()=>h,getStaticPaths:()=>u,getStaticProps:()=>x,reportWebVitals:()=>g,routeModule:()=>w,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>b});var r=t(7093),i=t(5244),n=t(1323),l=t(7645),d=t(6814),c=t(3676),o=e([d,c]);[d,c]=o.then?(await o)():o;let m=(0,n.l)(c,"default"),x=(0,n.l)(c,"getStaticProps"),u=(0,n.l)(c,"getStaticPaths"),h=(0,n.l)(c,"getServerSideProps"),p=(0,n.l)(c,"config"),g=(0,n.l)(c,"reportWebVitals"),b=(0,n.l)(c,"unstable_getStaticProps"),j=(0,n.l)(c,"unstable_getStaticPaths"),f=(0,n.l)(c,"unstable_getStaticParams"),v=(0,n.l)(c,"unstable_getServerProps"),y=(0,n.l)(c,"unstable_getServerSideProps"),w=new r.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/admin/jabatan",pathname:"/admin/jabatan",bundlePath:"",filename:""},components:{App:d.default,Document:l.default},userland:c});s()}catch(e){s(e)}})},1504:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{z:()=>o});var r=t(997),i=t(6689),n=t(6926),l=t(9832),d=e([n]);n=(d.then?(await d)():d)[0];let c=(0,n.cva)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary-600 text-white hover:bg-primary-700",destructive:"bg-danger-600 text-white hover:bg-danger-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-50 text-gray-700",secondary:"bg-secondary-600 text-white hover:bg-secondary-700",ghost:"hover:bg-gray-100 text-gray-700",link:"underline-offset-4 hover:underline text-primary-600",success:"bg-success-600 text-white hover:bg-success-700",warning:"bg-warning-600 text-white hover:bg-warning-700"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=(0,i.forwardRef)(({className:e,variant:a,size:t,loading:s,leftIcon:i,rightIcon:n,children:d,disabled:o,...m},x)=>(0,r.jsxs)("button",{className:(0,l.cn)(c({variant:a,size:t,className:e})),ref:x,disabled:o||s,...m,children:[s&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!s&&i&&r.jsx("span",{className:"mr-2",children:i}),d,!s&&n&&r.jsx("span",{className:"ml-2",children:n})]}));o.displayName="Button",s()}catch(e){s(e)}})},3582:(e,a,t)=>{t.d(a,{I:()=>n});var s=t(997),r=t(6689),i=t(9832);let n=(0,r.forwardRef)(({className:e,type:a,label:t,error:r,helperText:n,leftIcon:l,rightIcon:d,id:c,...o},m)=>{let x=c||`input-${Math.random().toString(36).substr(2,9)}`;return(0,s.jsxs)("div",{className:"w-full",children:[t&&s.jsx("label",{htmlFor:x,className:"form-label",children:t}),(0,s.jsxs)("div",{className:"relative",children:[l&&s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-400 text-sm",children:l})}),s.jsx("input",{type:a,id:x,className:(0,i.cn)("form-input-modern",l&&"pl-12",d&&"pr-12",r&&"border-red-400 focus:border-red-500 focus:ring-red-500 shadow-glow-rose","focus:shadow-glow transition-all duration-300",e),ref:m,...o}),d&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-400 text-sm",children:d})})]}),r&&s.jsx("p",{className:"form-error",children:r}),n&&!r&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:n})]})});n.displayName="Input"},8484:(e,a,t)=>{},3676:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.r(a),t.d(a,{default:()=>w});var r=t(997),i=t(6689),n=t(968),l=t.n(n),d=t(9314),c=t(1163),o=t(8484),m=t(9948),x=t(6250),u=t(1504),h=t(3582),p=t(8105),g=t(3982),b=t(2037),j=t(8438),f=t(5836),v=t(9005),y=e([x,u]);[x,u]=y.then?(await y)():y;let w=()=>{let{user:e,isAuthenticated:a,isLoading:t}=(0,d.a)(),s=(0,c.useRouter)(),{addToast:n}=(0,m.p)(),[y,w]=(0,i.useState)([]),[N,k]=(0,i.useState)(!0),[S,C]=(0,i.useState)(""),[P,_]=(0,i.useState)(1),[z,E]=(0,i.useState)(1),[M,L]=(0,i.useState)(!1),[A,J]=(0,i.useState)(null),[Z,q]=(0,i.useState)({nama:"",deskripsi:"",gaji_pokok:0});(0,i.useEffect)(()=>{if(!t&&!a){s.push("/login");return}if(e&&"admin"!==e.role){s.push("/dasbor");return}a&&B()},[a,t,e,s]);let B=async()=>{try{k(!0);let e=await o.jabatanApi.getJabatan({page:P,per_page:15,search:S}),a=Array.isArray(e.data)?e.data:e.data?.data||[];w(a),E(Math.ceil((e.data?.total||0)/15))}catch(e){n({type:"error",title:"Error",message:"Gagal memuat data jabatan"})}finally{k(!1)}};(0,i.useEffect)(()=>{a&&B()},[P,S]);let R=async e=>{e.preventDefault();try{A?(await o.jabatanApi.updateJabatan(A,Z),n({type:"success",title:"Berhasil",message:"Jabatan berhasil diperbarui"})):(await o.jabatanApi.createJabatan(Z),n({type:"success",title:"Berhasil",message:"Jabatan berhasil ditambahkan"})),L(!1),J(null),I(),B()}catch(e){n({type:"error",title:"Error",message:"Gagal menyimpan jabatan"})}},W=e=>{J(e.id),q({nama:e.nama_jabatan,deskripsi:e.deskripsi||"",gaji_pokok:e.gaji_pokok||0}),L(!0)},G=async e=>{if(confirm("Apakah Anda yakin ingin menghapus jabatan ini?"))try{await o.jabatanApi.deleteJabatan(e),n({type:"success",title:"Berhasil",message:"Jabatan berhasil dihapus"}),B()}catch(e){n({type:"error",title:"Error",message:"Gagal menghapus jabatan"})}},I=()=>{q({nama:"",deskripsi:"",gaji_pokok:0})},D=()=>{L(!1),J(null),I()};return t?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):a&&e?.role==="admin"?(0,r.jsxs)(x.Z,{children:[r.jsx(l(),{children:r.jsx("title",{children:"Manajemen Jabatan - AFMS"})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Manajemen Jabatan"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Kelola data jabatan perusahaan"})]}),r.jsx("div",{className:"mt-4 sm:mt-0",children:(0,r.jsxs)(u.z,{onClick:()=>L(!0),className:"inline-flex items-center",children:[r.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Tambah Jabatan"]})})]}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:(0,r.jsxs)("div",{className:"relative flex-1",children:[r.jsx(g.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx(h.I,{type:"text",placeholder:"Cari jabatan...",value:S,onChange:e=>C(e.target.value),className:"pl-10"})]})}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(b.Z,{className:"h-4 w-4 mr-2"}),"Jabatan"]})}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deskripsi"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gaji Pokok"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:N?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-6 py-4 text-center",children:r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})})}):0===y.length?r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"px-6 py-4 text-center text-gray-500",children:"Tidak ada data jabatan"})}):y.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.nama_jabatan})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm text-gray-900",children:e.deskripsi||"-"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"text-sm text-gray-900",children:["Rp ",(e.gaji_pokok||0).toLocaleString("id-ID")]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx(u.z,{variant:"outline",size:"sm",onClick:()=>W(e),children:r.jsx(j.Z,{className:"h-4 w-4"})}),r.jsx(u.z,{variant:"outline",size:"sm",onClick:()=>G(e.id),className:"text-red-600 hover:text-red-700",children:r.jsx(f.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})}),z>1&&(0,r.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,r.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx(u.z,{variant:"outline",onClick:()=>_(Math.max(1,P-1)),disabled:1===P,children:"Sebelumnya"}),r.jsx(u.z,{variant:"outline",onClick:()=>_(Math.min(z,P+1)),disabled:P===z,children:"Selanjutnya"})]}),(0,r.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:["Halaman ",r.jsx("span",{className:"font-medium",children:P})," dari"," ",r.jsx("span",{className:"font-medium",children:z})]})}),r.jsx("div",{children:(0,r.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[r.jsx(u.z,{variant:"outline",onClick:()=>_(Math.max(1,P-1)),disabled:1===P,className:"rounded-l-md",children:"Sebelumnya"}),r.jsx(u.z,{variant:"outline",onClick:()=>_(Math.min(z,P+1)),disabled:P===z,className:"rounded-r-md",children:"Selanjutnya"})]})})]})]})]})]}),M&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,r.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:A?"Ubah Jabatan":"Tambah Jabatan"}),r.jsx("button",{onClick:D,className:"text-gray-400 hover:text-gray-600",children:r.jsx(v.Z,{className:"h-6 w-6"})})]}),(0,r.jsxs)("form",{onSubmit:R,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Jabatan"}),r.jsx(h.I,{type:"text",value:Z.nama,onChange:e=>q({...Z,nama:e.target.value}),required:!0,placeholder:"Masukkan nama jabatan"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deskripsi"}),r.jsx("textarea",{value:Z.deskripsi,onChange:e=>q({...Z,deskripsi:e.target.value}),placeholder:"Masukkan deskripsi jabatan",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gaji Pokok"}),r.jsx(h.I,{type:"number",value:Z.gaji_pokok,onChange:e=>q({...Z,gaji_pokok:Number(e.target.value)}),placeholder:"Masukkan gaji pokok",min:"0"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(u.z,{type:"button",variant:"outline",onClick:D,children:"Batal"}),r.jsx(u.z,{type:"submit",children:A?"Perbarui":"Simpan"})]})]})]})})]}):null};s()}catch(e){s(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")},9752:e=>{e.exports=import("@tanstack/react-query")},6926:e=>{e.exports=import("class-variance-authority")},3982:(e,a,t)=>{t.d(a,{Z:()=>r});var s=t(6689);let r=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))})},8438:(e,a,t)=>{t.d(a,{Z:()=>r});var s=t(6689);let r=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))})},8105:(e,a,t)=>{t.d(a,{Z:()=>r});var s=t(6689);let r=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))})},5836:(e,a,t)=>{t.d(a,{Z:()=>r});var s=t(6689);let r=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[6859,8342,7890,1557],()=>t(4123));module.exports=s})();