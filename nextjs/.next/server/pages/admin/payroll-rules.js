"use strict";(()=>{var e={};e.id=8785,e.ids=[8785],e.modules={2980:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.r(a),t.d(a,{config:()=>h,default:()=>m,getServerSideProps:()=>p,getStaticPaths:()=>x,getStaticProps:()=>u,reportWebVitals:()=>g,routeModule:()=>w,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>f,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>y});var r=t(7093),n=t(5244),l=t(1323),i=t(7645),o=t(6814),c=t(8621),d=e([o,c]);[o,c]=d.then?(await d)():d;let m=(0,l.l)(c,"default"),u=(0,l.l)(c,"getStaticProps"),x=(0,l.l)(c,"getStaticPaths"),p=(0,l.l)(c,"getServerSideProps"),h=(0,l.l)(c,"config"),g=(0,l.l)(c,"reportWebVitals"),y=(0,l.l)(c,"unstable_getStaticProps"),v=(0,l.l)(c,"unstable_getStaticPaths"),j=(0,l.l)(c,"unstable_getStaticParams"),b=(0,l.l)(c,"unstable_getServerProps"),f=(0,l.l)(c,"unstable_getServerSideProps"),w=new r.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/admin/payroll-rules",pathname:"/admin/payroll-rules",bundlePath:"",filename:""},components:{App:o.default,Document:i.default},userland:c});s()}catch(e){s(e)}})},1504:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{z:()=>d});var r=t(997),n=t(6689),l=t(6926),i=t(9832),o=e([l]);l=(o.then?(await o)():o)[0];let c=(0,l.cva)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary-600 text-white hover:bg-primary-700",destructive:"bg-danger-600 text-white hover:bg-danger-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-50 text-gray-700",secondary:"bg-secondary-600 text-white hover:bg-secondary-700",ghost:"hover:bg-gray-100 text-gray-700",link:"underline-offset-4 hover:underline text-primary-600",success:"bg-success-600 text-white hover:bg-success-700",warning:"bg-warning-600 text-white hover:bg-warning-700"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=(0,n.forwardRef)(({className:e,variant:a,size:t,loading:s,leftIcon:n,rightIcon:l,children:o,disabled:d,...m},u)=>(0,r.jsxs)("button",{className:(0,i.cn)(c({variant:a,size:t,className:e})),ref:u,disabled:d||s,...m,children:[s&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!s&&n&&r.jsx("span",{className:"mr-2",children:n}),o,!s&&l&&r.jsx("span",{className:"ml-2",children:l})]}));d.displayName="Button",s()}catch(e){s(e)}})},3582:(e,a,t)=>{t.d(a,{I:()=>l});var s=t(997),r=t(6689),n=t(9832);let l=(0,r.forwardRef)(({className:e,type:a,label:t,error:r,helperText:l,leftIcon:i,rightIcon:o,id:c,...d},m)=>{let u=c||`input-${Math.random().toString(36).substr(2,9)}`;return(0,s.jsxs)("div",{className:"w-full",children:[t&&s.jsx("label",{htmlFor:u,className:"form-label",children:t}),(0,s.jsxs)("div",{className:"relative",children:[i&&s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-400 text-sm",children:i})}),s.jsx("input",{type:a,id:u,className:(0,n.cn)("form-input-modern",i&&"pl-12",o&&"pr-12",r&&"border-red-400 focus:border-red-500 focus:ring-red-500 shadow-glow-rose","focus:shadow-glow transition-all duration-300",e),ref:m,...d}),o&&s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:s.jsx("span",{className:"text-gray-400 text-sm",children:o})})]}),r&&s.jsx("p",{className:"form-error",children:r}),l&&!r&&s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:l})]})});l.displayName="Input"},4230:(e,a,t)=>{t.d(a,{Z:()=>l,u:()=>n});var s=t(997);t(6689);var r=t(9832);let n=({isOpen:e,onClose:a,title:t,children:n,className:l})=>e?s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,s.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:a}),(0,s.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl sm:max-w-lg",children:[t&&(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:t}),s.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:(0,r.cn)("",l),children:n})]})]})}):null,l=n},8621:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.r(a),t.d(a,{default:()=>P});var r=t(997),n=t(6689),l=t(968),i=t.n(l),o=t(9314),c=t(1163),d=t(9948),m=t(6250),u=t(1504),x=t(4230),p=t(3582),h=t(4535),g=t(3749),y=t(4449),v=t(8617),j=t(4934),b=t(8105),f=t(8438),w=t(5836),N=t(9832),_=e([m,u]);[m,u]=_.then?(await _)():_;let k=({rule:e,onSave:a,onClose:t})=>{let[s,l]=(0,n.useState)({name:e?.name||"",type:e?.type||"deduction",category:e?.category||"attendance",calculation_method:e?.calculation_method||"fixed_amount",amount:e?.amount||0,min_threshold:e?.conditions.min_threshold||"",max_threshold:e?.conditions.max_threshold||"",description:e?.description||"",is_active:e?.is_active===void 0||e.is_active});return r.jsx(x.Z,{isOpen:!0,onClose:t,title:e?"Edit Aturan":"Tambah Aturan",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault();let t={};s.min_threshold&&(t.min_threshold=Number(s.min_threshold)),s.max_threshold&&(t.max_threshold=Number(s.max_threshold)),a({...s,amount:Number(s.amount),conditions:t})},className:"space-y-4",children:[r.jsx(p.I,{label:"Nama Aturan",value:s.name,onChange:e=>l({...s,name:e.target.value}),required:!0}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipe"}),(0,r.jsxs)("select",{value:s.type,onChange:e=>l({...s,type:e.target.value}),className:"form-select-modern",required:!0,children:[r.jsx("option",{value:"deduction",children:"Potongan"}),r.jsx("option",{value:"allowance",children:"Tunjangan"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kategori"}),(0,r.jsxs)("select",{value:s.category,onChange:e=>l({...s,category:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[r.jsx("option",{value:"attendance",children:"Kehadiran"}),r.jsx("option",{value:"performance",children:"Kinerja"}),r.jsx("option",{value:"fixed",children:"Tetap"}),r.jsx("option",{value:"overtime",children:"Lembur"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Metode Perhitungan"}),(0,r.jsxs)("select",{value:s.calculation_method,onChange:e=>l({...s,calculation_method:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[r.jsx("option",{value:"fixed_amount",children:"Jumlah Tetap"}),r.jsx("option",{value:"percentage",children:"Persentase"}),r.jsx("option",{value:"per_minute",children:"Per Menit"}),r.jsx("option",{value:"per_occurrence",children:"Per Kejadian"})]})]}),r.jsx(p.I,{label:"Jumlah",type:"number",value:s.amount,onChange:e=>l({...s,amount:Number(e.target.value)}),required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(p.I,{label:"Batas Minimum (opsional)",type:"number",value:s.min_threshold,onChange:e=>l({...s,min_threshold:e.target.value})}),r.jsx(p.I,{label:"Batas Maksimum (opsional)",type:"number",value:s.max_threshold,onChange:e=>l({...s,max_threshold:e.target.value})})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deskripsi"}),r.jsx("textarea",{value:s.description,onChange:e=>l({...s,description:e.target.value}),className:"form-textarea-modern",rows:3})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"is_active",checked:s.is_active,onChange:e=>l({...s,is_active:e.target.checked}),className:"mr-2"}),r.jsx("label",{htmlFor:"is_active",className:"text-sm text-gray-700",children:"Aktif"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(u.z,{type:"button",variant:"outline",onClick:t,children:"Batal"}),r.jsx(u.z,{type:"submit",children:e?"Perbarui":"Simpan"})]})]})})},S=({component:e,onSave:a,onClose:t})=>{let[s,l]=(0,n.useState)({name:e?.name||"",type:e?.type||"allowance",amount:e?.amount||0,is_taxable:e?.is_taxable===void 0||e.is_taxable,is_active:e?.is_active===void 0||e.is_active});return r.jsx(x.Z,{isOpen:!0,onClose:t,title:e?"Edit Komponen":"Tambah Komponen",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a({...s,amount:Number(s.amount)})},className:"space-y-4",children:[r.jsx(p.I,{label:"Nama Komponen",value:s.name,onChange:e=>l({...s,name:e.target.value}),required:!0}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipe"}),(0,r.jsxs)("select",{value:s.type,onChange:e=>l({...s,type:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",required:!0,children:[r.jsx("option",{value:"basic",children:"Gaji Pokok"}),r.jsx("option",{value:"allowance",children:"Tunjangan"}),r.jsx("option",{value:"deduction",children:"Potongan"})]})]}),r.jsx(p.I,{label:"Jumlah",type:"number",value:s.amount,onChange:e=>l({...s,amount:Number(e.target.value)}),required:!0})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"is_taxable",checked:s.is_taxable,onChange:e=>l({...s,is_taxable:e.target.checked}),className:"mr-2"}),r.jsx("label",{htmlFor:"is_taxable",className:"text-sm text-gray-700",children:"Kena Pajak"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"comp_is_active",checked:s.is_active,onChange:e=>l({...s,is_active:e.target.checked}),className:"mr-2"}),r.jsx("label",{htmlFor:"comp_is_active",className:"text-sm text-gray-700",children:"Aktif"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(u.z,{type:"button",variant:"outline",onClick:t,children:"Batal"}),r.jsx(u.z,{type:"submit",children:e?"Perbarui":"Simpan"})]})]})})},C=({settings:e,onSave:a})=>{let[t,s]=(0,n.useState)({working_days_per_month:e.working_days_per_month,working_hours_per_day:e.working_hours_per_day,overtime_multiplier:e.overtime_multiplier,late_tolerance_minutes:e.late_tolerance_minutes,early_leave_tolerance_minutes:e.early_leave_tolerance_minutes,minimum_working_hours:e.minimum_working_hours,tax_percentage:e.tax_percentage});return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a(t)},className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsx(p.I,{label:"Hari Kerja per Bulan",type:"number",value:t.working_days_per_month,onChange:e=>s({...t,working_days_per_month:Number(e.target.value)}),required:!0}),r.jsx(p.I,{label:"Jam Kerja per Hari",type:"number",value:t.working_hours_per_day,onChange:e=>s({...t,working_hours_per_day:Number(e.target.value)}),required:!0}),r.jsx(p.I,{label:"Multiplier Lembur",type:"number",step:"0.1",value:t.overtime_multiplier,onChange:e=>s({...t,overtime_multiplier:Number(e.target.value)}),required:!0}),r.jsx(p.I,{label:"Toleransi Keterlambatan (menit)",type:"number",value:t.late_tolerance_minutes,onChange:e=>s({...t,late_tolerance_minutes:Number(e.target.value)}),required:!0}),r.jsx(p.I,{label:"Toleransi Pulang Cepat (menit)",type:"number",value:t.early_leave_tolerance_minutes,onChange:e=>s({...t,early_leave_tolerance_minutes:Number(e.target.value)}),required:!0}),r.jsx(p.I,{label:"Minimum Jam Kerja",type:"number",value:t.minimum_working_hours,onChange:e=>s({...t,minimum_working_hours:Number(e.target.value)}),required:!0}),r.jsx(p.I,{label:"Persentase Pajak (%)",type:"number",value:t.tax_percentage,onChange:e=>s({...t,tax_percentage:Number(e.target.value)}),required:!0})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx(u.z,{type:"submit",children:"Simpan Pengaturan"})})]})},P=()=>{let{user:e,isAuthenticated:a,isLoading:t}=(0,o.a)(),s=(0,c.useRouter)(),{addToast:l}=(0,d.p)(),[x,p]=(0,n.useState)("rules"),[_,P]=(0,n.useState)([]),[q,E]=(0,n.useState)([]),[L,K]=(0,n.useState)(null),[T,Z]=(0,n.useState)(!0),[I,M]=(0,n.useState)(!1),[A,B]=(0,n.useState)(!1),[z,O]=(0,n.useState)(null),[R,D]=(0,n.useState)(null),[W,F]=(0,n.useState)("all"),[J,G]=(0,n.useState)("all");(0,n.useEffect)(()=>{t||a?!t&&a&&e?.role!=="admin"&&s.push("/dasbor"):s.push("/login")},[a,t,e,s]),(0,n.useEffect)(()=>{a&&e?.role==="admin"&&H()},[a,e,x]);let H=async()=>{try{if(Z(!0),"rules"===x){let e=await fetch("/api/payroll/rules"),a=await e.json();a.success&&P(a.data)}else if("components"===x){let e=await fetch("/api/payroll/rules?type=components"),a=await e.json();a.success&&E(a.data)}else if("settings"===x){let e=await fetch("/api/payroll/rules?type=settings"),a=await e.json();a.success&&K(a.data)}}catch(e){l({type:"error",title:"Kesalahan",message:e.message||"Gagal memuat data"})}finally{Z(!1)}},V=async e=>{try{let a=z?`/api/payroll/rules?type=rule&id=${z.id}`:"/api/payroll/rules?type=rule",t=await fetch(a,{method:z?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await t.json();if(s.success)l({type:"success",title:"Berhasil",message:s.message}),M(!1),O(null),H();else throw Error(s.message)}catch(e){l({type:"error",title:"Kesalahan",message:e.message||"Gagal menyimpan aturan"})}},$=async e=>{if(confirm("Apakah Anda yakin ingin menghapus aturan ini?"))try{let a=await fetch(`/api/payroll/rules?type=rule&id=${e}`,{method:"DELETE"}),t=await a.json();if(t.success)l({type:"success",title:"Berhasil",message:t.message}),H();else throw Error(t.message)}catch(e){l({type:"error",title:"Kesalahan",message:e.message||"Gagal menghapus aturan"})}},U=async e=>{try{let a=await fetch("/api/payroll/rules?type=settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await a.json();if(t.success)l({type:"success",title:"Berhasil",message:t.message}),H();else throw Error(t.message)}catch(e){l({type:"error",title:"Kesalahan",message:e.message||"Gagal menyimpan pengaturan"})}},X=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),Y=e=>{switch(e){case"deduction":return r.jsx(h.Z,{className:"h-5 w-5 text-danger-500"});case"allowance":return r.jsx(g.Z,{className:"h-5 w-5 text-success-500"});default:return r.jsx(y.Z,{className:"h-5 w-5 text-gray-500"})}},Q=e=>r.jsx("span",{className:(0,N.cn)("px-2 py-1 text-xs font-medium rounded-full",{attendance:"bg-blue-100 text-blue-800",performance:"bg-green-100 text-green-800",fixed:"bg-gray-100 text-gray-800",overtime:"bg-purple-100 text-purple-800"}[e]||"bg-gray-100 text-gray-800"),children:e}),ee=_.filter(e=>("all"===W||e.type===W)&&("all"===J||e.category===J));return t||!a||e?.role!=="admin"?r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx("div",{className:"loading-spinner w-8 h-8"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i(),{children:[r.jsx("title",{children:"Aturan Payroll - AFMS"}),r.jsx("meta",{name:"description",content:"Kelola aturan perhitungan gaji dan komponen payroll"})]}),(0,r.jsxs)(m.Z,{children:[(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white shadow-sm rounded-lg p-6",children:r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Aturan Payroll"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola aturan perhitungan gaji, komponen payroll, dan pengaturan sistem"})]})})}),(0,r.jsxs)("div",{className:"bg-white shadow-sm rounded-lg",children:[r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"rules",name:"Aturan Payroll",icon:y.Z},{id:"components",name:"Komponen Gaji",icon:v.Z},{id:"settings",name:"Pengaturan",icon:j.Z}].map(e=>{let a=e.icon;return(0,r.jsxs)("button",{onClick:()=>p(e.id),className:(0,N.cn)("flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm",x===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[r.jsx(a,{className:"h-5 w-5"}),r.jsx("span",{children:e.name})]},e.id)})})}),(0,r.jsxs)("div",{className:"p-6",children:["rules"===x&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("select",{value:W,onChange:e=>F(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[r.jsx("option",{value:"all",children:"Semua Tipe"}),r.jsx("option",{value:"deduction",children:"Potongan"}),r.jsx("option",{value:"allowance",children:"Tunjangan"})]}),(0,r.jsxs)("select",{value:J,onChange:e=>G(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm",children:[r.jsx("option",{value:"all",children:"Semua Kategori"}),r.jsx("option",{value:"attendance",children:"Kehadiran"}),r.jsx("option",{value:"performance",children:"Kinerja"}),r.jsx("option",{value:"fixed",children:"Tetap"}),r.jsx("option",{value:"overtime",children:"Lembur"})]})]}),r.jsx(u.z,{onClick:()=>{O(null),M(!0)},leftIcon:r.jsx(b.Z,{className:"h-4 w-4"}),children:"Tambah Aturan"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ee.map(e=>(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[Y(e.type),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[Q(e.category),r.jsx("span",{className:(0,N.cn)("px-2 py-1 text-xs font-medium rounded-full",e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Aktif":"Nonaktif"})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx("button",{onClick:()=>{O(e),M(!0)},className:"p-1 text-gray-400 hover:text-gray-600",children:r.jsx(f.Z,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>$(e.id),className:"p-1 text-gray-400 hover:text-red-600",children:r.jsx(w.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsxs)("div",{className:"mt-3",children:[r.jsx("p",{className:"text-sm text-gray-600",children:e.description}),(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("span",{className:"text-lg font-bold text-gray-900",children:"percentage"===e.calculation_method?`${e.amount}%`:X(e.amount)}),(0,r.jsxs)("span",{className:"text-sm text-gray-500 ml-1",children:["per_minute"===e.calculation_method&&"/ menit","per_occurrence"===e.calculation_method&&"/ kejadian"]})]}),e.conditions.min_threshold&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Min: ",e.conditions.min_threshold]})]})]},e.id))})]}),"components"===x&&(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex justify-end",children:r.jsx(u.z,{onClick:()=>{D(null),B(!0)},leftIcon:r.jsx(b.Z,{className:"h-4 w-4"}),children:"Tambah Komponen"})}),r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipe"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jumlah"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kena Pajak"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:q.map(e=>(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:(0,N.cn)("px-2 py-1 text-xs font-medium rounded-full","basic"===e.type?"bg-blue-100 text-blue-800":"allowance"===e.type?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"basic"===e.type?"Pokok":"allowance"===e.type?"Tunjangan":"Potongan"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:0===e.amount?"Variabel":"deduction"===e.type&&e.amount<10?`${e.amount}%`:X(e.amount)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:(0,N.cn)("px-2 py-1 text-xs font-medium rounded-full",e.is_taxable?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.is_taxable?"Ya":"Tidak"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:(0,N.cn)("px-2 py-1 text-xs font-medium rounded-full",e.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.is_active?"Aktif":"Nonaktif"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsx("div",{className:"flex items-center space-x-2",children:r.jsx("button",{onClick:()=>{D(e),B(!0)},className:"text-primary-600 hover:text-primary-900",children:"Ubah"})})})]},e.id))})]})})]}),"settings"===x&&L&&r.jsx("div",{className:"space-y-6",children:r.jsx(C,{settings:L,onSave:U})})]})]})]}),I&&r.jsx(k,{rule:z,onSave:V,onClose:()=>{M(!1),O(null)}}),A&&r.jsx(S,{component:R,onSave:e=>{B(!1),D(null)},onClose:()=>{B(!1),D(null)}})]})]})};s()}catch(e){s(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6162:e=>{e.exports=require("stream")},1568:e=>{e.exports=require("zlib")},9752:e=>{e.exports=import("@tanstack/react-query")},6926:e=>{e.exports=import("class-variance-authority")},3749:(e,a,t)=>{t.d(a,{Z:()=>r});var s=t(6689);let r=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))})},4535:(e,a,t)=>{t.d(a,{Z:()=>r});var s=t(6689);let r=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},8438:(e,a,t)=>{t.d(a,{Z:()=>r});var s=t(6689);let r=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))})},8105:(e,a,t)=>{t.d(a,{Z:()=>r});var s=t(6689);let r=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))})},5836:(e,a,t)=>{t.d(a,{Z:()=>r});var s=t(6689);let r=s.forwardRef(function({title:e,titleId:a,...t},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},t),e?s.createElement("title",{id:a},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})}};var a=require("../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[6859,8342,7890,1557],()=>t(2980));module.exports=s})();