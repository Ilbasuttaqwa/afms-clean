(()=>{var e={};e.id=9262,e.ids=[9262,2888,660],e.modules={3854:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{config:()=>p,default:()=>m,getServerSideProps:()=>x,getStaticPaths:()=>h,getStaticProps:()=>u,reportWebVitals:()=>g,routeModule:()=>k,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>v});var r=a(7093),i=a(5244),n=a(1323),l=a(7645),c=a(6814),d=a(8565),o=e([c,d]);[c,d]=o.then?(await o)():o;let m=(0,n.l)(d,"default"),u=(0,n.l)(d,"getStaticProps"),h=(0,n.l)(d,"getStaticPaths"),x=(0,n.l)(d,"getServerSideProps"),p=(0,n.l)(d,"config"),g=(0,n.l)(d,"reportWebVitals"),v=(0,n.l)(d,"unstable_getStaticProps"),j=(0,n.l)(d,"unstable_getStaticPaths"),f=(0,n.l)(d,"unstable_getStaticParams"),b=(0,n.l)(d,"unstable_getServerProps"),y=(0,n.l)(d,"unstable_getServerSideProps"),k=new r.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/admin/fingerprint-backup",pathname:"/admin/fingerprint-backup",bundlePath:"",filename:""},components:{App:c.default,Document:l.default},userland:d});s()}catch(e){s(e)}})},9553:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(997);a(6689);var r=a(9832);let i=({children:e,className:t,variant:a="default",padding:i="md",hover:n=!1,animate:l=!1})=>s.jsx("div",{className:(0,r.cn)("transition-all duration-300",(()=>{switch(a){case"glass":return"glass rounded-2xl shadow-xl";case"elevated":return"card-modern";case"outlined":return"bg-white/95 dark:bg-slate-800/95 border border-violet-200/50 dark:border-violet-700/50 hover:border-violet-300 dark:hover:border-violet-600 transition-all duration-300 backdrop-blur-md";default:return"card"}})(),(()=>{switch(i){case"none":return"";case"sm":return"p-4";case"md":default:return"p-6";case"lg":return"p-8"}})(),n&&"hover-lift cursor-pointer group",l&&"animate-fade-in",t),children:e});i.Header=({children:e,className:t})=>s.jsx("div",{className:(0,r.cn)("card-header",t),children:e}),i.Body=({children:e,className:t})=>s.jsx("div",{className:(0,r.cn)("card-body",t),children:e}),i.Footer=({children:e,className:t})=>s.jsx("div",{className:(0,r.cn)("card-footer",t),children:e});let n=i},1504:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{z:()=>o});var r=a(997),i=a(6689),n=a(6926),l=a(9832),c=e([n]);n=(c.then?(await c)():c)[0];let d=(0,n.cva)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary-600 text-white hover:bg-primary-700",destructive:"bg-danger-600 text-white hover:bg-danger-700",outline:"border border-gray-300 bg-transparent hover:bg-gray-50 text-gray-700",secondary:"bg-secondary-600 text-white hover:bg-secondary-700",ghost:"hover:bg-gray-100 text-gray-700",link:"underline-offset-4 hover:underline text-primary-600",success:"bg-success-600 text-white hover:bg-success-700",warning:"bg-warning-600 text-white hover:bg-warning-700"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=(0,i.forwardRef)(({className:e,variant:t,size:a,loading:s,leftIcon:i,rightIcon:n,children:c,disabled:o,...m},u)=>(0,r.jsxs)("button",{className:(0,l.cn)(d({variant:t,size:a,className:e})),ref:u,disabled:o||s,...m,children:[s&&(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!s&&i&&r.jsx("span",{className:"mr-2",children:i}),c,!s&&n&&r.jsx("span",{className:"ml-2",children:n})]}));o.displayName="Button",s()}catch(e){s(e)}})},4230:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n,u:()=>i});var s=a(997);a(6689);var r=a(9832);let i=({isOpen:e,onClose:t,title:a,children:i,className:n})=>e?s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,s.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),(0,s.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl sm:max-w-lg",children:[a&&(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:a}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 focus:outline-none",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:(0,r.cn)("",n),children:i})]})]})}):null,n=i},9314:(e,t,a)=>{"use strict";a.d(t,{H:()=>n,a:()=>l});var s=a(997),r=a(6689);let i=(0,r.createContext)(void 0),n=({children:e})=>{let[t,a]=(0,r.useState)(null),[n,l]=(0,r.useState)(!1),c=async(e,t)=>{try{let s=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(s.ok){let e=await s.json();a(e.user),l(!0)}}catch(e){}};return s.jsx(i.Provider,{value:{user:t,isAuthenticated:n,login:c,logout:()=>{a(null),l(!1)}},children:e})},l=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6225:(e,t,a)=>{"use strict";a.d(t,{F:()=>l,f:()=>n});var s=a(997),r=a(6689);let i=(0,r.createContext)(void 0),n=({children:e})=>{let[t,a]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let e=localStorage.getItem("theme");e&&a("dark"===e)},[]),s.jsx(i.Provider,{value:{isDark:t,toggleTheme:()=>{a(!t)}},children:e})},l=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},9948:(e,t,a)=>{"use strict";a.d(t,{V:()=>n,p:()=>l});var s=a(997),r=a(6689);let i=(0,r.createContext)(void 0),n=({children:e})=>{let[t,a]=(0,r.useState)([]),n=e=>{a(t=>t.filter(t=>t.id!==e))};return s.jsx(i.Provider,{value:{toasts:t,addToast:(e,t)=>{let s=Date.now().toString(),r={id:s,message:e,type:t};a(e=>[...e,r]),setTimeout(()=>n(s),5e3)},removeToast:n},children:e})},l=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}},6814:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>h});var r=a(997),i=a(9752),n=a(9314),l=a(9948),c=a(6225);a(6764);var d=a(6689),o=a(968),m=a.n(o),u=e([i]);let x=new(i=(u.then?(await u)():u)[0]).QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:3e5}}});function h({Component:e,pageProps:t}){let[a,s]=(0,d.useState)(!1);return a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(m(),{children:[r.jsx("title",{children:"AFMS - Attendance & Fingerprint Management System"}),r.jsx("meta",{name:"description",content:"Advanced Fingerprint Management System for attendance tracking"}),r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),r.jsx("link",{rel:"icon",href:"/favicon.ico"}),r.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),r.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),r.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap",rel:"stylesheet"})]}),r.jsx(i.QueryClientProvider,{client:x,children:r.jsx(c.f,{children:r.jsx(l.V,{children:r.jsx(n.H,{children:r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 transition-colors duration-300",children:r.jsx(e,{...t})})})})})})]}):null}s()}catch(e){s(e)}})},7645:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var s=a(997),r=a(6859);function i(){return(0,s.jsxs)(r.Html,{lang:"id",children:[(0,s.jsxs)(r.Head,{children:[s.jsx("meta",{charSet:"utf-8"}),s.jsx("meta",{name:"theme-color",content:"#3b82f6"}),s.jsx("meta",{name:"msapplication-TileColor",content:"#3b82f6"}),s.jsx("meta",{name:"msapplication-config",content:"/browserconfig.xml"}),s.jsx("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),s.jsx("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),s.jsx("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),s.jsx("link",{rel:"manifest",href:"/site.webmanifest"}),s.jsx("link",{rel:"mask-icon",href:"/safari-pinned-tab.svg",color:"#3b82f6"})]}),(0,s.jsxs)("body",{className:"antialiased",children:[s.jsx(r.Main,{}),s.jsx(r.NextScript,{})]})]})}},8565:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>w});var r=a(997),i=a(6689),n=a(968),l=a.n(n),c=a(1163),d=a(9553),o=a(1504),m=a(4230),u=a(2280),h=a(3192),x=a(406),p=a(8379),g=a(4163),v=a(3504),j=a(5836),f=a(4535),b=a(9314),y=a(9948),k=e([o]);o=(k.then?(await k)():k)[0];let w=()=>{let e=(0,c.useRouter)(),{user:t,isLoading:a}=(0,b.a)(),{addToast:s}=(0,y.p)(),[n,k]=(0,i.useState)([]),[w,N]=(0,i.useState)([]),[S,B]=(0,i.useState)(!1),[C,E]=(0,i.useState)(""),[P,Z]=(0,i.useState)(null),[_,L]=(0,i.useState)(""),[M,z]=(0,i.useState)(!1),[T,A]=(0,i.useState)(!1),[O,R]=(0,i.useState)(!1),[D,H]=(0,i.useState)(null);(0,i.useEffect)(()=>{if(!a&&!t){e.push("/login");return}if(t&&"admin"!==t.role){e.push("/dashboard");return}t&&(V(),W())},[t,a,e]);let V=async()=>{try{let e=await fetch("/api/devices",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){let t=await e.json();k(t.data||[])}}catch(e){}},W=async()=>{try{B(!0);let e=await fetch("/api/fingerprint/backup-restore",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(e.ok){let t=await e.json();N(t.data||[])}}catch(e){s({type:"error",title:"Error",message:"Gagal mengambil daftar backup"})}finally{B(!1)}},q=async()=>{if(!C){s({type:"error",title:"Error",message:"Pilih device terlebih dahulu"});return}try{B(!0);let e=await fetch("/api/fingerprint/backup-restore",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({action:"backup",device_id:C})}),t=await e.json();if(e.ok&&t.success)s({type:"success",title:"Success",message:t.message}),z(!1),E(""),W();else throw Error(t.message||"Gagal membuat backup")}catch(e){s({type:"error",title:"Error",message:e.message||"Gagal membuat backup"})}finally{B(!1)}},F=async()=>{if(!P||!_){s({type:"error",title:"Error",message:"Pilih backup dan target device terlebih dahulu"});return}try{B(!0);let e=await fetch("/api/fingerprint/backup-restore",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({action:"restore",backup_id:P.id,target_device_id:_})}),t=await e.json();if(e.ok&&t.success)s({type:"success",title:"Success",message:t.message}),A(!1),Z(null),L("");else throw Error(t.message||"Gagal melakukan restore")}catch(e){s({type:"error",title:"Error",message:e.message||"Gagal melakukan restore"})}finally{B(!1)}},G=async()=>{if(D)try{if(B(!0),(await fetch(`/api/fingerprint/backup-restore/${D.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)s({type:"success",title:"Success",message:"Backup berhasil dihapus"}),R(!1),H(null),W();else throw Error("Gagal menghapus backup")}catch(e){s({type:"error",title:"Error",message:e.message||"Gagal menghapus backup"})}finally{B(!1)}},I=e=>{if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},$=e=>new Date(e).toLocaleString("id-ID");return a?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(u.Z,{className:"h-8 w-8 animate-spin"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[r.jsx("title",{children:"Backup & Restore Template Sidik Jari - AFMS"}),r.jsx("meta",{name:"description",content:"Manajemen backup dan restore template sidik jari"})]}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Backup & Restore Template"}),r.jsx("p",{className:"text-gray-600",children:"Kelola backup dan restore template sidik jari antar device"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)(o.z,{onClick:()=>z(!0),className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Buat Backup"]}),(0,r.jsxs)(o.z,{onClick:W,variant:"outline",disabled:S,children:[r.jsx(u.Z,{className:`h-4 w-4 mr-2 ${S?"animate-spin":""}`}),"Refresh"]})]})]}),r.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx(x.Z,{className:"h-5 w-5 text-blue-500 mt-0.5 mr-3"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Backup template sidik jari memungkinkan Anda untuk menyimpan dan memindahkan template antar device. Pastikan device target berada dalam cabang yang sama dengan device sumber."})]})}),(0,r.jsxs)(d.Z,{className:"bg-white shadow-lg rounded-lg",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[r.jsx(p.Z,{className:"h-5 w-5"}),"Daftar Backup Template"]})}),r.jsx("div",{className:"p-6",children:S?(0,r.jsxs)("div",{className:"flex items-center justify-center py-8",children:[r.jsx(u.Z,{className:"h-6 w-6 animate-spin mr-2"}),r.jsx("span",{children:"Memuat data backup..."})]}):0===w.length?(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(h.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),r.jsx("p",{children:"Belum ada backup template"}),r.jsx("p",{className:"text-sm",children:'Buat backup pertama Anda dengan mengklik tombol "Buat Backup"'})]}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4",children:"Nama Backup"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Device"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Cabang"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Template"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Ukuran"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Dibuat"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Aksi"})]})}),r.jsx("tbody",{children:w.map(e=>(0,r.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,r.jsxs)("td",{className:"py-3 px-4",children:[r.jsx("div",{className:"font-medium",children:e.backup_name}),(0,r.jsxs)("div",{className:"text-sm text-gray-500",children:["ID: ",e.id]})]}),(0,r.jsxs)("td",{className:"py-3 px-4",children:[r.jsx("div",{className:"font-medium",children:e.device.nama}),r.jsx("div",{className:"text-sm text-gray-500",children:e.device.device_id})]}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:e.device.cabang})}),r.jsx("td",{className:"py-3 px-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(g.Z,{className:"h-4 w-4"}),r.jsx("span",{children:e.template_count})]})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"text-sm",children:I(e.file_size)})}),r.jsx("td",{className:"py-3 px-4",children:(0,r.jsxs)("div",{className:"text-sm",children:[r.jsx("div",{children:$(e.created_at)}),(0,r.jsxs)("div",{className:"text-gray-500",children:["oleh ",e.created_by]})]})}),r.jsx("td",{className:"py-3 px-4",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(o.z,{size:"sm",variant:"outline",onClick:()=>{Z(e),A(!0)},children:[r.jsx(v.Z,{className:"h-4 w-4 mr-1"}),"Restore"]}),r.jsx(o.z,{size:"sm",variant:"outline",className:"text-red-600 hover:text-red-700",onClick:()=>{H(e),R(!0)},children:r.jsx(j.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})})})]}),r.jsx(m.u,{isOpen:M,onClose:()=>z(!1),title:"Buat Backup Template",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilih Device"}),(0,r.jsxs)("select",{value:C,onChange:e=>E(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"-- Pilih Device --"}),n.map(e=>(0,r.jsxs)("option",{value:e.device_id,children:[e.nama," (",e.device_id,") - ",e.cabang.nama_cabang]},e.id))]})]}),r.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx(x.Z,{className:"h-5 w-5 text-blue-500 mt-0.5 mr-3"}),r.jsx("p",{className:"text-sm text-blue-700",children:"Backup akan menyimpan semua template sidik jari dari device yang dipilih. Proses ini mungkin membutuhkan waktu beberapa menit tergantung jumlah template."})]})}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(o.z,{variant:"outline",onClick:()=>z(!1),disabled:S,children:"Batal"}),(0,r.jsxs)(o.z,{onClick:q,disabled:S||!C,className:"bg-blue-600 hover:bg-blue-700",children:[S?r.jsx(u.Z,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Buat Backup"]})]})]})}),r.jsx(m.u,{isOpen:T,onClose:()=>A(!1),title:"Restore Template",children:(0,r.jsxs)("div",{className:"space-y-4",children:[P&&(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Backup yang dipilih:"}),(0,r.jsxs)("div",{className:"text-sm space-y-1",children:[(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Nama:"})," ",P.backup_name]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Device Sumber:"})," ",P.device.nama]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Cabang:"})," ",P.device.cabang]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Jumlah Template:"})," ",P.template_count]})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilih Target Device"}),(0,r.jsxs)("select",{value:_,onChange:e=>L(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"-- Pilih Target Device --"}),n.map(e=>(0,r.jsxs)("option",{value:e.device_id,children:[e.nama," (",e.device_id,") - ",e.cabang.nama_cabang]},e.id))]})]}),r.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx(f.Z,{className:"h-5 w-5 text-yellow-500 mt-0.5 mr-3"}),(0,r.jsxs)("p",{className:"text-sm text-yellow-700",children:[r.jsx("strong",{children:"Peringatan:"})," Restore akan menimpa template yang ada di device target. Pastikan device target berada dalam cabang yang sama dengan device sumber."]})]})}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(o.z,{variant:"outline",onClick:()=>A(!1),disabled:S,children:"Batal"}),(0,r.jsxs)(o.z,{onClick:F,disabled:S||!_,className:"bg-green-600 hover:bg-green-700",children:[S?r.jsx(u.Z,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(v.Z,{className:"h-4 w-4 mr-2"}),"Restore Template"]})]})]})}),r.jsx(m.u,{isOpen:O,onClose:()=>R(!1),title:"Konfirmasi Hapus Backup",children:(0,r.jsxs)("div",{className:"space-y-4",children:[D&&(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-gray-700 mb-4",children:"Apakah Anda yakin ingin menghapus backup berikut?"}),r.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,r.jsxs)("div",{className:"text-sm space-y-1",children:[(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Nama:"})," ",D.backup_name]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Device:"})," ",D.device.nama]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"Template:"})," ",D.template_count]})]})}),(0,r.jsxs)("p",{className:"text-sm text-red-600 mt-4",children:[r.jsx("strong",{children:"Peringatan:"})," Tindakan ini tidak dapat dibatalkan."]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[r.jsx(o.z,{variant:"outline",onClick:()=>R(!1),disabled:S,children:"Batal"}),(0,r.jsxs)(o.z,{onClick:G,disabled:S,className:"bg-red-600 hover:bg-red-700",children:[S?r.jsx(u.Z,{className:"h-4 w-4 mr-2 animate-spin"}):r.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"Hapus Backup"]})]})]})})]})]})};s()}catch(e){s(e)}})},9832:(e,t,a)=>{"use strict";function s(...e){return e.filter(Boolean).join(" ")}a.d(t,{cn:()=>s})},6764:()=>{},2785:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{"use strict";e.exports=require("next/head")},6689:e=>{"use strict";e.exports=require("react")},6405:e=>{"use strict";e.exports=require("react-dom")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},2048:e=>{"use strict";e.exports=require("fs")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},1568:e=>{"use strict";e.exports=require("zlib")},9752:e=>{"use strict";e.exports=import("@tanstack/react-query")},6926:e=>{"use strict";e.exports=import("class-variance-authority")},2280:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(6689);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))})},3504:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(6689);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))})},3192:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(6689);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 6.375c0 2.278-3.694 4.125-8.25 4.125S3.75 8.653 3.75 6.375m16.5 0c0-2.278-3.694-4.125-8.25-4.125S3.75 4.097 3.75 6.375m16.5 0v11.25c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125V6.375m16.5 0v3.75m-16.5-3.75v3.75m16.5 0v3.75C20.25 16.153 16.556 18 12 18s-8.25-1.847-8.25-4.125v-3.75m16.5 0c0 2.278-3.694 4.125-8.25 4.125s-8.25-1.847-8.25-4.125"}))})},8379:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(6689);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))})},4535:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(6689);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))})},406:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(6689);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))})},5836:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(6689);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))})},4163:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(6689);let r=s.forwardRef(function({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))})}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[6859,8342],()=>a(3854));module.exports=s})();