"use strict";(()=>{var e={};e.id=6139,e.ids=[6139],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(e,a)=>{Object.defineProperty(a,"l",{enumerable:!0,get:function(){return function e(a,s){return s in a?a[s]:"then"in a&&"function"==typeof a.then?a.then(a=>e(a,s)):"function"==typeof a&&"default"===s?a:void 0}}})},3846:(e,a,s)=>{s.r(a),s.d(a,{config:()=>f,default:()=>c,routeModule:()=>l});var t={};s.r(t),s.d(t,{default:()=>o});var n=s(1802),i=s(7153),r=s(6249);!function(){var e=Error("Cannot find module '../../../lib/auth-middleware'");throw e.code="MODULE_NOT_FOUND",e}();let u=[{id:1,nama:"Manager",deskripsi:"Mengelola operasional dan tim",gaji_pokok:15e6,tunjangan:2e6,status:"aktif",created_at:"2023-01-01T00:00:00.000Z",updated_at:"2023-01-01T00:00:00.000Z"},{id:2,nama:"Staff",deskripsi:"Melaksanakan tugas operasional",gaji_pokok:8e6,tunjangan:1e6,status:"aktif",created_at:"2023-01-01T00:00:00.000Z",updated_at:"2023-01-01T00:00:00.000Z"},{id:3,nama:"Supervisor",deskripsi:"Mengawasi dan membimbing staff",gaji_pokok:12e6,tunjangan:15e5,status:"aktif",created_at:"2023-01-01T00:00:00.000Z",updated_at:"2023-01-01T00:00:00.000Z"},{id:4,nama:"Admin",deskripsi:"Mengelola administrasi dan sistem",gaji_pokok:1e7,tunjangan:12e5,status:"aktif",created_at:"2023-01-01T00:00:00.000Z",updated_at:"2023-01-01T00:00:00.000Z"}];async function d(e,a){try{let{id:s}=e.query,t=parseInt(s);if(isNaN(t))return a.status(400).json({success:!1,message:"Invalid jabatan ID"});switch(e.method){case"GET":let n=u.find(e=>e.id===t);if(!n)return a.status(404).json({success:!1,message:"Jabatan not found"});return a.status(200).json({success:!0,data:n});case"PUT":if(e.user?.role!=="admin")return a.status(403).json({success:!1,message:"Insufficient permissions"});let{nama:i,deskripsi:r,gaji_pokok:d,tunjangan:o}=e.body;if(!i||!r||void 0===d)return a.status(400).json({success:!1,message:"Required fields: nama, deskripsi, gaji_pokok"});let c=u.findIndex(e=>e.id===t);if(-1===c)return a.status(404).json({success:!1,message:"Jabatan not found"});if(u.find(e=>e.nama===i&&e.id!==t))return a.status(400).json({success:!1,message:"Jabatan name already exists"});let f={...u[c],nama:i,deskripsi:r,gaji_pokok:parseInt(d),tunjangan:o?parseInt(o):0,updated_at:new Date().toISOString()};return u[c]=f,a.status(200).json({success:!0,message:"Jabatan updated successfully",data:f});case"DELETE":if(e.user?.role!=="admin")return a.status(403).json({success:!1,message:"Insufficient permissions"});let l=u.findIndex(e=>e.id===t);if(-1===l)return a.status(404).json({success:!1,message:"Jabatan not found"});let m=u[l];return u.splice(l,1),a.status(200).json({success:!0,message:"Jabatan deleted successfully",data:m});default:return a.status(405).json({success:!1,message:"Method not allowed"})}}catch(e){return a.status(500).json({success:!1,message:"Internal server error"})}}let o=Object(function(){var e=Error("Cannot find module '../../../lib/auth-middleware'");throw e.code="MODULE_NOT_FOUND",e}())(d),c=(0,r.l)(t,"default"),f=(0,r.l)(t,"config"),l=new n.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/jabatan/[id]",pathname:"/api/jabatan/[id]",bundlePath:"",filename:""},userland:t})},7153:(e,a)=>{var s;Object.defineProperty(a,"x",{enumerable:!0,get:function(){return s}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(s||(s={}))},1802:(e,a,s)=>{e.exports=s(145)}};var a=require("../../../webpack-api-runtime.js");a.C(e);var s=a(a.s=3846);module.exports=s})();