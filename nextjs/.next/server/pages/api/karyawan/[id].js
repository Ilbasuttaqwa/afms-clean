"use strict";(()=>{var a={};a.id=709,a.ids=[709],a.modules={145:a=>{a.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(a,e)=>{Object.defineProperty(e,"l",{enumerable:!0,get:function(){return function a(e,t){return t in e?e[t]:"then"in e&&"function"==typeof e.then?e.then(e=>a(e,t)):"function"==typeof e&&"default"===t?e:void 0}}})},788:(a,e,t)=>{t.r(e),t.d(e,{config:()=>m,default:()=>l,routeModule:()=>c});var n={};t.r(n),t.d(n,{default:()=>u});var s=t(1802),r=t(7153),i=t(6249);!function(){var a=Error("Cannot find module '../../../lib/auth-middleware'");throw a.code="MODULE_NOT_FOUND",a}();let d=[{id:1,nama:"John Doe",email:"john@afms.com",jabatan_id:1,jabatan:{nama:"Manager"},cabang_id:1,cabang:{nama:"Cabang Utama"},telepon:"081234567890",alamat:"Jl. Contoh No. 123",tanggal_masuk:"2023-01-15",fingerprint_id:"FP001",status:"aktif",created_at:"2023-01-15T00:00:00.000Z",updated_at:"2023-01-15T00:00:00.000Z"},{id:2,nama:"Jane Smith",email:"jane@afms.com",jabatan_id:2,jabatan:{nama:"Staff"},cabang_id:1,cabang:{nama:"Cabang Utama"},telepon:"081234567891",alamat:"Jl. Contoh No. 124",tanggal_masuk:"2023-02-01",fingerprint_id:"FP002",status:"aktif",created_at:"2023-02-01T00:00:00.000Z",updated_at:"2023-02-01T00:00:00.000Z"}];async function o(a,e){let{id:t}=a.query,n=parseInt(t);try{switch(a.method){case"GET":let t=d.find(a=>a.id===n);if(!t)return e.status(404).json({message:"Karyawan not found"});return e.status(200).json({success:!0,data:t});case"PUT":let s=d.findIndex(a=>a.id===n);if(-1===s)return e.status(404).json({message:"Karyawan not found"});let{nama:r,email:i,jabatan_id:o,cabang_id:u,telepon:l,alamat:m,tanggal_masuk:c,finger_id:f,status:g}=a.body;if(i&&d.find(a=>a.email===i&&a.id!==n))return e.status(400).json({message:"Email already exists"});let p={...d[s],nama:r||d[s].nama,email:i||d[s].email,jabatan_id:o?parseInt(o):d[s].jabatan_id,cabang_id:u?parseInt(u):d[s].cabang_id,telepon:void 0!==l?l:d[s].telepon,alamat:void 0!==m?m:d[s].alamat,tanggal_masuk:c||d[s].tanggal_masuk,fingerprint_id:void 0!==f?f:d[s].fingerprint_id,status:g||d[s].status,updated_at:new Date().toISOString()};return d[s]=p,e.status(200).json({success:!0,message:"Karyawan updated successfully",data:p});case"DELETE":let _=d.findIndex(a=>a.id===n);if(-1===_)return e.status(404).json({message:"Karyawan not found"});return d.splice(_,1),e.status(200).json({success:!0,message:"Karyawan deleted successfully"});default:return e.status(405).json({message:"Method not allowed"})}}catch(a){return e.status(500).json({message:"Internal server error"})}}let u=Object(function(){var a=Error("Cannot find module '../../../lib/auth-middleware'");throw a.code="MODULE_NOT_FOUND",a}())(o),l=(0,i.l)(n,"default"),m=(0,i.l)(n,"config"),c=new s.PagesAPIRouteModule({definition:{kind:r.x.PAGES_API,page:"/api/karyawan/[id]",pathname:"/api/karyawan/[id]",bundlePath:"",filename:""},userland:n})},7153:(a,e)=>{var t;Object.defineProperty(e,"x",{enumerable:!0,get:function(){return t}}),function(a){a.PAGES="PAGES",a.PAGES_API="PAGES_API",a.APP_PAGE="APP_PAGE",a.APP_ROUTE="APP_ROUTE"}(t||(t={}))},1802:(a,e,t)=>{a.exports=t(145)}};var e=require("../../../webpack-api-runtime.js");e.C(a);var t=e(e.s=788);module.exports=t})();