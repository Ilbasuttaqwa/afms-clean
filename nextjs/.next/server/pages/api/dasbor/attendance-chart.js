"use strict";(()=>{var e={};e.id=7176,e.ids=[7176],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})},8866:(e,t,a)=>{a.r(t),a.d(t,{config:()=>i,default:()=>h,routeModule:()=>c});var r={};a.r(r),a.d(r,{default:()=>u});var o=a(1802),n=a(7153),s=a(6249);!function(){var e=Error("Cannot find module '../../../lib/auth-middleware'");throw e.code="MODULE_NOT_FOUND",e}();let d=e=>{let t=new Date,a=[],r=[],o=[],n=[];switch(e){case"7days":for(let e=6;e>=0;e--){let s=new Date(t);s.setDate(s.getDate()-e),a.push(s.toLocaleDateString("id-ID",{weekday:"short"})),r.push(Math.floor(20*Math.random())+15),o.push(Math.floor(5*Math.random())+1),n.push(Math.floor(3*Math.random()))}break;case"30days":for(let e=29;e>=0;e--){let s=new Date(t);s.setDate(s.getDate()-e),a.push(s.getDate().toString()),r.push(Math.floor(25*Math.random())+20),o.push(Math.floor(8*Math.random())+2),n.push(Math.floor(5*Math.random()))}break;case"3months":for(let e=2;e>=0;e--){let s=new Date(t);s.setMonth(s.getMonth()-e),a.push(s.toLocaleDateString("id-ID",{month:"short"})),r.push(Math.floor(500*Math.random())+400),o.push(Math.floor(100*Math.random())+50),n.push(Math.floor(50*Math.random())+10)}break;default:for(let e=6;e>=0;e--){let s=new Date(t);s.setDate(s.getDate()-e),a.push(s.toLocaleDateString("id-ID",{weekday:"short"})),r.push(Math.floor(20*Math.random())+15),o.push(Math.floor(5*Math.random())+1),n.push(Math.floor(3*Math.random()))}}return{labels:a,datasets:[{label:"Hadir",data:r,borderColor:"rgb(34, 197, 94)",backgroundColor:"rgba(34, 197, 94, 0.1)",tension:.4},{label:"Terlambat",data:o,borderColor:"rgb(251, 146, 60)",backgroundColor:"rgba(251, 146, 60, 0.1)",tension:.4},{label:"Alpha",data:n,borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4}]}};async function l(e,t){if("GET"!==e.method)return t.status(405).json({success:!1,message:"Method not allowed"});try{let{period:a="7days"}=e.query;if(!["7days","30days","3months"].includes(a))return t.status(400).json({success:!1,message:"Invalid period parameter. Valid values: 7days, 30days, 3months"});let r=d(a);return t.status(200).json({success:!0,message:"Data grafik kehadiran berhasil diambil",data:r})}catch(e){return t.status(500).json({success:!1,message:"Terjadi kesalahan server",error:e.message})}}let u=Object(function(){var e=Error("Cannot find module '../../../lib/auth-middleware'");throw e.code="MODULE_NOT_FOUND",e}())(l),h=(0,s.l)(r,"default"),i=(0,s.l)(r,"config"),c=new o.PagesAPIRouteModule({definition:{kind:n.x.PAGES_API,page:"/api/dasbor/attendance-chart",pathname:"/api/dasbor/attendance-chart",bundlePath:"",filename:""},userland:r})},7153:(e,t)=>{var a;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return a}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(a||(a={}))},1802:(e,t,a)=>{e.exports=a(145)}};var t=require("../../../webpack-api-runtime.js");t.C(e);var a=t(t.s=8866);module.exports=a})();